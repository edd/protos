{
  "swagger": "2.0",
  "info": {
    "title": "vega/api/trading.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/transaction": {
      "post": {
        "summary": "Submit a signed transaction (v2)",
        "operationId": "SubmitTransactionV2",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SubmitTransactionV2Response"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1SubmitTransactionV2Request"
            }
          }
        ],
        "tags": [
          "TradingService"
        ]
      }
    }
  },
  "definitions": {
    "v1GetVegaTimeResponse": {
      "type": "object",
      "properties": {
        "timestamp": {
          "type": "string",
          "format": "int64",
          "title": "Timestamp representation of current VegaTime as represented in\nNanoseconds since the epoch, for example `1580473859111222333` corresponds to `2020-01-31T12:30:59.111222333Z`"
        }
      },
      "title": "Response for the current consensus coordinated time on the Vega network, referred to as \"VegaTime\""
    },
    "v1LastBlockHeightResponse": {
      "type": "object",
      "properties": {
        "height": {
          "type": "string",
          "format": "uint64"
        }
      },
      "title": "A response with the height of the last block processed by\ntendermint"
    },
    "v1PropagateChainEventResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "format": "boolean",
          "title": "Success will be true if the event was accepted by the node,\n**Important** - success does not mean that the event is confirmed by consensus"
        }
      },
      "title": "Response for a new event sent by the blockchain queue to be propagated on Vega"
    },
    "v1Signature": {
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "description": "The bytes of the signature (hex-encoded)."
        },
        "algo": {
          "type": "string",
          "description": "The algorithm used to create the signature."
        },
        "version": {
          "type": "integer",
          "format": "int64",
          "description": "The version of the signature used to create the signature."
        }
      },
      "description": "A signature to be authenticate a transaction and to be verified by the vega\nnetwork."
    },
    "v1Statistics": {
      "type": "object",
      "properties": {
        "block_height": {
          "type": "string",
          "format": "uint64",
          "title": "Current block height as reported by the Vega blockchain"
        },
        "backlog_length": {
          "type": "string",
          "format": "uint64",
          "title": "Current backlog length (number of transactions) that are waiting to be included in a block"
        },
        "total_peers": {
          "type": "string",
          "format": "uint64",
          "title": "Total number of connected peers to this node"
        },
        "genesis_time": {
          "type": "string",
          "title": "Genesis block date and time formatted in ISO-8601 datetime format with nanosecond precision"
        },
        "current_time": {
          "type": "string",
          "title": "Current system date and time formatted in ISO-8601 datetime format with nanosecond precision"
        },
        "vega_time": {
          "type": "string",
          "title": "Current Vega date and time formatted in ISO-8601 datetime format with nanosecond precision"
        },
        "status": {
          "$ref": "#/definitions/vegaChainStatus",
          "title": "Status of the connection to the Vega blockchain\n- See [`ChainStatus`](#vega.ChainStatus)"
        },
        "tx_per_block": {
          "type": "string",
          "format": "uint64",
          "title": "Transactions per block"
        },
        "average_tx_bytes": {
          "type": "string",
          "format": "uint64",
          "title": "Average transaction size in bytes"
        },
        "average_orders_per_block": {
          "type": "string",
          "format": "uint64",
          "title": "Average orders per block"
        },
        "trades_per_second": {
          "type": "string",
          "format": "uint64",
          "title": "Trades emitted per second"
        },
        "orders_per_second": {
          "type": "string",
          "format": "uint64",
          "title": "Orders processed per second"
        },
        "total_markets": {
          "type": "string",
          "format": "uint64",
          "title": "Total markets on this Vega network"
        },
        "total_amend_order": {
          "type": "string",
          "format": "uint64",
          "title": "Total number of order amendments since genesis (on all markets)"
        },
        "total_cancel_order": {
          "type": "string",
          "format": "uint64",
          "title": "Total number of order cancellations since genesis (on all markets)"
        },
        "total_create_order": {
          "type": "string",
          "format": "uint64",
          "title": "Total number of order submissions since genesis (on all markets)"
        },
        "total_orders": {
          "type": "string",
          "format": "uint64",
          "title": "Total number of orders processed since genesis (on all markets)"
        },
        "total_trades": {
          "type": "string",
          "format": "uint64",
          "title": "Total number of trades emitted since genesis (on all markets)"
        },
        "order_subscriptions": {
          "type": "integer",
          "format": "int64",
          "title": "Current number of stream subscribers to order data"
        },
        "trade_subscriptions": {
          "type": "integer",
          "format": "int64",
          "title": "Current number of stream subscribers to trade data"
        },
        "candle_subscriptions": {
          "type": "integer",
          "format": "int64",
          "title": "Current number of stream subscribers to candle-stick data"
        },
        "market_depth_subscriptions": {
          "type": "integer",
          "format": "int64",
          "title": "Current number of stream subscribers to market depth data"
        },
        "positions_subscriptions": {
          "type": "integer",
          "format": "int64",
          "title": "Current number of stream subscribers to positions data"
        },
        "account_subscriptions": {
          "type": "integer",
          "format": "int64",
          "title": "Current number of stream subscribers to account data"
        },
        "market_data_subscriptions": {
          "type": "integer",
          "format": "int64",
          "title": "Current number of stream subscribers to market data"
        },
        "app_version_hash": {
          "type": "string",
          "title": "The version hash of the Vega node software"
        },
        "app_version": {
          "type": "string",
          "title": "The version of the Vega node software"
        },
        "chain_version": {
          "type": "string",
          "title": "The version of the underlying Vega blockchain"
        },
        "block_duration": {
          "type": "string",
          "format": "uint64",
          "title": "Current block duration, in nanoseconds"
        },
        "uptime": {
          "type": "string",
          "title": "Total uptime for this node formatted in ISO-8601 datetime format with nanosecond precision"
        },
        "chain_id": {
          "type": "string",
          "title": "Unique identifier for the underlying Vega blockchain"
        },
        "market_depth_updates_subscriptions": {
          "type": "integer",
          "format": "int64",
          "title": "Current number of stream subscribers to market depth update data"
        }
      },
      "title": "Vega domain specific statistics as reported by the node the caller is connected to"
    },
    "v1StatisticsResponse": {
      "type": "object",
      "properties": {
        "statistics": {
          "$ref": "#/definitions/v1Statistics"
        }
      }
    },
    "v1SubmitTransactionV2Request": {
      "type": "object",
      "properties": {
        "tx": {
          "$ref": "#/definitions/v1Transaction",
          "title": "A bundle of signed payload and signature, to form a transaction that will be submitted to the Vega blockchain"
        },
        "type": {
          "$ref": "#/definitions/v1SubmitTransactionV2RequestType",
          "title": "Type of transaction request, for example ASYNC, meaning the transaction will be submitted and not block on a response"
        }
      },
      "title": "Request for submitting a transaction v2 on Vega"
    },
    "v1SubmitTransactionV2RequestType": {
      "type": "string",
      "enum": [
        "TYPE_UNSPECIFIED",
        "TYPE_ASYNC",
        "TYPE_SYNC",
        "TYPE_COMMIT"
      ],
      "default": "TYPE_UNSPECIFIED",
      "description": "- TYPE_ASYNC: The transaction will be submitted without waiting for response\n - TYPE_SYNC: The transaction will be submitted, and blocking until the\ntendermint mempool return a response\n - TYPE_COMMIT: The transaction will submitted, and blocking until the tendermint\nnetwork will have committed it into a block",
      "title": "Blockchain transaction type"
    },
    "v1SubmitTransactionV2Response": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "format": "boolean",
          "title": "Success will be true if the transaction was accepted by the node,\n**Important** - success does not mean that the event is confirmed by consensus"
        }
      },
      "title": "Response for submitting a transaction v2 on Vega"
    },
    "v1Transaction": {
      "type": "object",
      "properties": {
        "input_data": {
          "type": "string",
          "format": "byte",
          "description": "One of the set of Vega commands (proto marshalled)."
        },
        "signature": {
          "$ref": "#/definitions/v1Signature",
          "description": "The signature of the inputData."
        },
        "address": {
          "type": "string",
          "description": "The address of the sender (hex-encoded). Not supported yet."
        },
        "pub_key": {
          "type": "string",
          "description": "The public key of the sender (hex-encoded)."
        },
        "version": {
          "type": "integer",
          "format": "int64",
          "description": "A version of the transaction, to be used in the future in case we want to\nimplement changes to the Transaction format."
        }
      },
      "description": "Represents a transaction to be sent to Vega."
    },
    "vegaChainStatus": {
      "type": "string",
      "enum": [
        "CHAIN_STATUS_UNSPECIFIED",
        "CHAIN_STATUS_DISCONNECTED",
        "CHAIN_STATUS_REPLAYING",
        "CHAIN_STATUS_CONNECTED"
      ],
      "default": "CHAIN_STATUS_UNSPECIFIED",
      "description": "- CHAIN_STATUS_UNSPECIFIED: Default value, always invalid\n - CHAIN_STATUS_DISCONNECTED: Blockchain is disconnected\n - CHAIN_STATUS_REPLAYING: Blockchain is replaying historic transactions\n - CHAIN_STATUS_CONNECTED: Blockchain is connected and receiving transactions",
      "title": "The Vega blockchain status as reported by the node the caller is connected to"
    }
  }
}
